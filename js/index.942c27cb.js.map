{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?46b4","webpack:///./src/components/AppMenu.vue?2daf","webpack:///./src/pages/InstallMetaMask.page.vue?df9d","webpack:///src/pages/InstallMetaMask.page.vue","webpack:///./src/pages/InstallMetaMask.page.vue?4233","webpack:///./src/pages/InstallMetaMask.page.vue","webpack:///./src/pages/Auth.page.vue?3265","webpack:///./src/plugins/pathify.js","webpack:///./src/lib/config-file.js","webpack:///./src/store/auth.js","webpack:///./src/store/nodes.js","webpack:///./src/lib/const.js","webpack:///./src/lib/register-api.js","webpack:///./src/store/register.js","webpack:///./src/store/index.js","webpack:///./src/lib/async-local-storage.js","webpack:///./src/lib/api.js","webpack:///src/pages/Auth.page.vue","webpack:///./src/pages/Auth.page.vue?c349","webpack:///./src/pages/Auth.page.vue","webpack:///./src/pages/Dashboard.page.vue?7965","webpack:///./src/components/ExplorerRedirect.vue?c223","webpack:///src/components/ExplorerRedirect.vue","webpack:///./src/components/ExplorerRedirect.vue?5534","webpack:///./src/components/ExplorerRedirect.vue","webpack:///./src/lib/rules.js","webpack:///src/pages/Dashboard.page.vue","webpack:///./src/pages/Dashboard.page.vue?384f","webpack:///./src/pages/Dashboard.page.vue","webpack:///./src/router.js","webpack:///src/components/AppMenu.vue","webpack:///./src/components/AppMenu.vue?55d1","webpack:///./src/components/AppMenu.vue","webpack:///./src/components/WalletAuthenticationDialog.vue?e62b","webpack:///src/components/WalletAuthenticationDialog.vue","webpack:///./src/components/WalletAuthenticationDialog.vue?3cad","webpack:///./src/components/WalletAuthenticationDialog.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.js","webpack:///./src/lib/auth.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","disconnect","_s","wallet","_e","mmIsOpen","snackbarColor","model","callback","$$v","displaySnackbar","expression","snackbarMessage","ref","staticRenderFns","drawer","$route","_l","index","icon","label","route","disabled","subheader","$event","goTo","component","openMetaMaskConnectionDialog","prepareOpenWeb3DirectConnectionDialog","selectedNetwork","networks","wallets","updateWallet","show","password","pathify","options","mapping","parseUrl","url","acceptedProtocols","Array","isArray","map","endsWith","toLowerCase","u","URL","includes","protocol","error","cleanUpConfig","config","chainId","explorers","network","nodeUrl","walletCustodyAPIBaseUrl","explorerUrl","chainID","getDefaultNetwork","find","default","changeDefaultNetwork","getNetworkList","getExplorerUrl","state","provider","providerMetamask","providerDirect","providerModel","custodyModel","custodyApiUrl","contract","registered","isNode","isVoterNode","isAuditor","isAuditorApproved","walletAuthenticationFunction","getters","mutations","make","detectMetamask","$store","detectEthereumProvider","chaininfo","console","log","location","reload","web3","Web3","eth","getChainId","undefined","detectDirectAccess","defaultNetwork","getWeb3ProviderFromUrl","Number","parseInt","actions","fetchRole","set","dispatch","detectProvider","nbProviders","message","attemptToConnectWallet","addresses","ethereum","request","method","getCustodyLastWallets","address","accounts","router","openWeb3DirectConnectionDialog","verifyCustodyAuthentication","token","namespaced","currentBlockNumber","chainUpdateSubscription","currentWalletBalanceWei","fetchAllValues","subscribeToChainUpdates","rootState","unsubscribe","auth","subscription","subscribe","block","warn","unsubscribeToChainUpdates","insertNewBlock","commit","number","getWalletBalance","bal","keccak256","require","utils","BondStatus","DRAFT","READY","ISSUED","REPAID","FROZEN","Encoder","TextEncoder","RolesHashes","ADMIN","CAK","encode","BND","PAY","CUSTODIAN","loadRegisterFromEvents","fromBlock","toBlock","getLogs","logs","registers","exists","findIndex","returnValues","isin","blockNumber","getCurrentAdmin","register","selectedRegister","getLogsOfRegister","role","allowed","revoked","all","sort","a","b","w","account","foundAt","x","event","getRegisterStatus","readOnlyCall","listCAKWallets","allowCAKWallet","writeCall","revokeCAKWallet","toggleFreezeStatus","loadAll","list","Vue","use","Vuex","tryingToConnect","store","Store","nodes","plugins","plugin","errorFlash","fetchConfig","configUrl","href","searchParams","has","uConf","delete","fetch","res","status","json","connected","AsyncLocalStorage","keys","keyList","v","localStorage","getItem","JSON","parse","setItem","stringify","removeItem","group","LocalStorage","currentProvider","walletAddress","getBalance","getContractByName","contractName","allContracts","getContractInstance","instance","at","getRegisterInstance","getRegisterEvent","eventName","events","getCustodyApi","custodyUrl","custody","WalletCustodyApiImpl","savedWallets","unshift","api","handleMMResponse","authenticate","intf","Error","Web3FunctionProvider","Promise","resolve","authFunction","Web3CustodyFunctionProvider","methodName","args","readOnlyCallWithOptions","maxGas","reject","writeCallWithOptions","convertMMErrorMessage","split","obj","join","comment","then","send","catch","e","err","filter","promise","errorCallback","response","blockHash","gasUsed","handleMM","func","mounted","computed","hasProviderMetamask","hasProviderDirect","hasCustodyApi","methods","formatedRegisters","userIsRegisterAdmin","currentAdminWallet","statusText","toggleFreeze","$set","cakWallets","cakHeaders","scopedSlots","_u","fn","item","removeWallet","ETH_ADDRESS","newCakWallet","addWallet","proxy","open","props","id","type","validator","test","components","Explorer","text","sync","watch","_new","_old","updateCAKWallet","updateRegisterStatus","VueRouter","walletIsntConnected","routes","path","Dashboard","meta","displayInSidenav","InstallMetaMask","Auth","hidden","redirect","base","sidenav","restricted","el","nav","categories","routeName","$router","display","walletPassword","staticStyle","errorMessage","cancel","loading","submit","AppMenu","WalletAuthenticationDialog","Vuetify","theme","themes","light","primary","secondary","accent","warning","info","success","setupAuthNavigationGuard","beforeEach","to","from","next","forceRedirectTo","productionTip","vuetify","vuetifyConstructor","render","h","App","$mount"],"mappings":"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","file":"js/index.942c27cb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/admin-register/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-container',[_c('app-menu'),_c('v-app-bar',{attrs:{\"app\":\"\",\"clipped-left\":\"\",\"flat\":\"\",\"color\":\"primary lighten-2\"}},[_c('v-toolbar-title',{staticClass:\"white--text\"},[_vm._v(\"Administration of bond register\")]),_c('v-spacer'),(_vm.wallet)?_c('v-chip',{staticClass:\"ma-2\",attrs:{\"close\":\"\",\"color\":\"blue\",\"text-color\":\"white\"},on:{\"click:close\":_vm.disconnect}},[_vm._v(\" \"+_vm._s(_vm.wallet)+\" \")]):_vm._e()],1),_c('v-main',[_c('v-container',{staticClass:\"py-8\"},[_c('router-view')],1)],1)],1),_c('v-overlay',{attrs:{\"value\":_vm.mmIsOpen}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}})],1),_c('v-snackbar',{attrs:{\"multi-line\":\"\",\"color\":_vm.snackbarColor,\"right\":\"\"},model:{value:(_vm.displaySnackbar),callback:function ($$v) {_vm.displaySnackbar=$$v},expression:\"displaySnackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarMessage)+\" \")]),_c('wallet-authentication-dialog',{ref:\"walletAuthenticationDialog\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"app\":\"\",\"clipped\":\"\",\"flat\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-divider'),_c('v-list',[_c('v-list-item-group',{attrs:{\"value\":_vm.$route.name,\"mandatory\":\"\",\"color\":\"primary\"}},[_vm._l((_vm.sidenav),function(ref,index){\nvar icon = ref.icon;\nvar label = ref.label;\nvar route = ref.route;\nvar disabled = ref.disabled;\nvar subheader = ref.subheader;\nreturn [(subheader && label !== '' && index !== 0)?_c('v-divider',{key:(label + \"-divider\")}):_vm._e(),(subheader && label !== '')?_c('v-subheader',{key:label},[_vm._v(_vm._s(label))]):_c('v-list-item',{key:route,attrs:{\"value\":route,\"disabled\":disabled(),\"link\":\"\"},on:{\"click\":function($event){return _vm.goTo(route)}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(_vm._s(icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(label))])],1)],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Install MetaMask and then reload this application.\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>Install MetaMask and then reload this application.</div>\n</template>\n<script>\nexport default {};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallMetaMask.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallMetaMask.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallMetaMask.page.vue?vue&type=template&id=1ecf0199&\"\nimport script from \"./InstallMetaMask.page.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallMetaMask.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.hasProviderMetamask)?_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.openMetaMaskConnectionDialog}},[_vm._v(\"Connect Metamask Wallet\")]):_vm._e(),_c('br'),_c('br'),(_vm.hasProviderDirect)?_c('div',[_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":_vm.prepareOpenWeb3DirectConnectionDialog}},[_vm._v(\"Connect with below configuration\")]),_vm._v(\" \"),_c('br'),_c('br'),_c('v-select',{attrs:{\"hint\":(\"node: \" + (_vm.selectedNetwork.nodeUrl) + \"; custody: \" + (_vm.selectedNetwork.walletCustodyAPIBaseUrl)),\"items\":_vm.networks,\"item-text\":\"name\",\"item-value\":\"nodeUrl\",\"persistent-hint\":\"\",\"return-object\":\"\",\"single-line\":\"\"},model:{value:(_vm.selectedNetwork),callback:function ($$v) {_vm.selectedNetwork=$$v},expression:\"selectedNetwork\"}}),(_vm.hasCustodyApi)?_c('div',[_c('br'),_c('v-combobox',{attrs:{\"label\":\"Enter the wallet address\",\"placeholder\":\"capture your wallet address\",\"outlined\":\"\",\"counter\":\"\",\"clearable\":\"\",\"search-input\":_vm.wallet,\"items\":_vm.wallets},on:{\"update:search-input\":_vm.updateWallet}}),_c('v-text-field',{attrs:{\"label\":\"Enter the wallet password\",\"placeholder\":\"capture your wallet password\",\"outlined\":\"\",\"type\":_vm.show?'text' : 'password'},on:{\"click:append\":function($event){_vm.show = !_vm.show}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import pathify from 'vuex-pathify'\nexport default pathify\n\n// options\npathify.options.mapping = 'simple'\n// pathify.options.deep = false","\n\nexport function parseUrl(url, acceptedProtocols) {\n  if (acceptedProtocols && !Array.isArray(acceptedProtocols)) acceptedProtocols = [acceptedProtocols];\n  if (acceptedProtocols) acceptedProtocols = acceptedProtocols.map(p=>(p.endsWith(\":\")? p : p+':').toLowerCase());\n  \n  if (!url) return undefined;\n  try {\n      const u = new URL(url)\n      if (acceptedProtocols) {\n          if (!acceptedProtocols.includes(u.protocol)) return undefined\n      }\n      return u;\n  } catch (error) {\n      return undefined;\n  }\n}\n\nexport async function cleanUpConfig(config) {\n  // Configuration of the internal network is optional and may contains no, one or several networks\n\n  // check the url of the server handling the private keys if not metamask\n  if ( !Array.isArray(config.networks)) config.networks = [];\n  const explorers = config.explorers||{};\n  for (const chainId in explorers) {\n    const url = explorers[chainId];\n    if (!parseUrl(url, [\"http\", \"https\"])) {\n      delete explorers[chainId];\n    }\n  }\n  config.explorers = explorers;\n\n  for (const network of config.networks) {\n    if (!parseUrl(network.nodeUrl, [\"http\", \"https\", \"ws\", \"wss\"])) {\n      delete network.nodeUrl;\n    }\n    if (!parseUrl(network.walletCustodyAPIBaseUrl, [\"http\", \"https\"])) {\n        delete network.walletCustodyAPIBaseUrl\n    }\n    if (!parseUrl(network.explorerUrl, [\"http\", \"https\"])) {\n      delete network.explorerUrl;\n    }\n    if (!network.explorerUrl) { // try to find a url in the explorers field\n      if (config.explorers[network.chainID]) {\n        network.explorerUrl = config.explorers[network.chainID];\n      }\n    }\n    // may add later some other verifications like the chain id matches the node \n  }\n  if (config.networks.length==0) {\n    config.networks.push({name: \"No network defined in the configuration\"})\n  }\n  return config;\n}\n\nexport function getDefaultNetwork(config) {\n  let result = config.networks.find( n=>n.default );\n  if (!result && config.networks.length>0) result = config.networks[0];\n  return result;\n}\n\nexport function changeDefaultNetwork(config, url) {\n  for (const network of config.networks) {\n    if (network.nodeUrl == url) {\n      network.default = true;\n    } else {\n      network.default = false;\n    }\n  }\n  return config;\n}\n\nexport function getNetworkList(config) {\n  return config.networks;\n}\n\nexport function getExplorerUrl(config, chainID) {\n  if (!config) return undefined;\n  if (!chainID) { // assume the default config\n    const network = getDefaultNetwork(config)\n    if (network) return network.explorerUrl;\n  } else { // use the chain ID\n    if (config.explorers[chainID]) {\n      return config.explorers[chainID];\n    } \n  }\n  return undefined;\n}","// import ready from \"document-ready-promise\";\nimport detectEthereumProvider from '@metamask/detect-provider';\nimport Web3 from \"web3\";\nimport { make } from \"vuex-pathify\";\nimport { getWeb3ProviderFromUrl, verifyCustodyAuthentication, getCustodyLastWallets } from \"@/lib/api\";\nimport { getDefaultNetwork, changeDefaultNetwork, getExplorerUrl } from \"@/lib/config-file\";\n\nimport $store from \"@/store/index\";\nimport router from \"../router.js\";\n\nconst state = () => ({\n    provider: null,\n    providerMetamask: null,\n    providerDirect: null,\n    providerModel: null, // \"metamask\" or \"direct\" or \"both\" (if both are available)\n    custodyModel: null, // \"metamask\" or \"api\" or null if not available\n    custodyApiUrl: null, // the url of the custody api when the custody model is \"api\"\n    wallet: null,\n    contract: null,\n    registered: false,\n    // roles\n    isNode: false,\n    isVoterNode: false,\n    isAuditor: false,\n    isAuditorApproved: false,\n    walletAuthenticationFunction: null\n})\n\nconst getters = {\n    explorerUrl(state) {\n        if (state.providerModel == \"metamask\") {\n            return state.providerMetamask.explorerUrl;\n        }\n        if (state.providerModel == \"direct\") {\n            return state.providerDirect.explorerUrl;\n        }\n        return undefined;\n    }\n}\n\nconst mutations = make.mutations(state);\n\n// function to generalize the web3 provider and signature api options\nasync function detectMetamask() {\n    const config = $store.get(\"config\");\n    const providerMetamask = await detectEthereumProvider();\n    if (providerMetamask) {\n        providerMetamask.on(\"connect\", chaininfo=>{\n            console.log(\"Metamask chain info\", chaininfo);\n        })\n        providerMetamask.on('accountsChanged', () => window.location.reload())\n        const web3 = new Web3(providerMetamask);\n        const chainID = await web3.eth.getChainId();\n\n        return {\n            providerModel: \"metamask\",\n            provider: providerMetamask,\n            custodyModel: \"metamask\",\n            custodyApiUrl: null,\n            chainID,\n            explorerUrl: getExplorerUrl(config, chainID)\n        }\n    } else return undefined;\n}\n\nasync function detectDirectAccess() {\n    const config = $store.get(\"config\");\n    const defaultNetwork = getDefaultNetwork(config);\n    // if we have a nodeUrl, we can connect to the network\n    if (defaultNetwork.nodeUrl) {\n        // first create a direct provider without the wallet custody\n        const result = {\n            providerModel: \"direct\",\n            provider: getWeb3ProviderFromUrl(defaultNetwork.nodeUrl),\n            custodyModel: null,\n            custodyApiUrl: null,\n            chainID: Number.parseInt(defaultNetwork.chainID),\n            explorerUrl: getExplorerUrl(config) // will use the default network\n        }\n        // if we also have the wallet custody, then add it in the result\n        if (defaultNetwork.walletCustodyAPIBaseUrl) {\n            result.custodyModel = \"api\",\n            result.custodyApiUrl = defaultNetwork.walletCustodyAPIBaseUrl\n        } else {\n            console.log(\"Note: No company's wallet custody configured\");\n        }\n        return result;\n    } else {\n        console.log(\"Note: No direct web3 access configured\");\n        return undefined\n    }\n}\n\nconst actions = {\n\n    async fetchRole() {\n        console.log(\"fetchRole called\");\n        // Possibles roles are simple visitor (no wallet), authenticated visitor, auditor, node operator\n        // Reset the states\n        $store.set(\"auth/isAuditor\", false);\n        $store.set(\"auth/isNode\", false);\n        $store.set(\"auth/isVoterNode\", false);\n\n        // get the current address\n        const wallet = $store.get(\"auth/wallet\");\n        console.log(\"Fetch role of \", wallet);\n\n        await $store.dispatch(\"connected\");\n    },\n\n    async detectProvider() {\n        console.log(\"Before detecting providers\");\n        try {\n            await $store.dispatch(\"fetchConfig\");\n            let nbProviders = 0;\n\n            const providerMetamask = await detectMetamask();\n            if (providerMetamask) {\n                nbProviders ++;\n            }\n \n            const providerDirect = await detectDirectAccess();\n            if (providerDirect) {\n                nbProviders ++;\n            } \n            if (nbProviders == 0) {\n                // router.push({ name: \"installMetaMask\" }); \n                return;\n            }\n            \n            $store.set(\"auth/providerMetamask\", providerMetamask);\n            $store.set(\"auth/providerDirect\", providerDirect);\n            if (nbProviders > 1) {\n                $store.set(\"auth/providerModel\", \"both\");\n                // return router.push({ name: \"authentication\" }); \n            } else { // a single provider detected, can skip the decision process\n                const provider = providerDirect || providerMetamask; // will get one that is not null\n                $store.set(\"auth/provider\", provider.provider);\n                $store.set(\"auth/providerModel\", provider.providerModel);\n            }\n        } catch (error) {\n            console.error(\"Fail detecting a valid provider\", error.message)\n        }\n    },\n\n    async attemptToConnectWallet() {\n        let addresses = [];\n        const providerMetamask = $store.get(\"auth/providerMetamask\");\n        const providerDirect = $store.get(\"auth/providerDirect\");\n        if (providerMetamask) addresses = await window.ethereum.request({ method: \"eth_accounts\" });\n        if (providerDirect && addresses.length == 0) addresses = await getCustodyLastWallets();\n        console.log(\"attemptToConnectWallet\", addresses);\n        const address = addresses.length > 0 ? addresses[0] : null;\n        if (!address) return;\n        $store.set(\"auth/wallet\", address);\n        // We do it here because stuff breaks if we try to instanciate the interface before we know the address\n        return address;\n    },\n\n    async openMetaMaskConnectionDialog({ dispatch }) {\n        $store.set(\"auth/wallet\", null);\n        const accounts = await window.ethereum.request({ method: \"eth_requestAccounts\" })\n        if (accounts.length === 0) return;\n        $store.set(\"auth/wallet\", accounts[0]);\n        // it's decided, the provider is metamask\n        const provider = $store.get(\"auth/providerMetamask\");\n        $store.set(\"auth/provider\", provider.provider);\n        $store.set(\"auth/providerModel\", provider.providerModel);\n        // TODO: call fetchRole here to do a selective redirect? Or, just assume it's a first connect and don't care.\n        await dispatch(\"fetchRole\");\n        router.push({ name: \"register\" });\n    },\n\n    async openWeb3DirectConnectionDialog({ dispatch }, {wallet, password, nodeUrl}) {\n        // force reset the wallet\n        $store.set(\"auth/wallet\", null);\n        // update the default config\n        let config = $store.get(\"config\");\n        config = changeDefaultNetwork(config, nodeUrl);\n        $store.set(\"config\", config);\n\n        const provider = await detectDirectAccess(); // read again the default config now that it is chaged\n        $store.set(\"auth/provider\", provider.provider);\n        $store.set(\"auth/providerModel\", provider.providerModel);\n        \n        if (provider.custodyModel == \"api\") {\n            const token = await verifyCustodyAuthentication(wallet, password)\n            // console.log(\"openWeb3DirectConnectionDialog\", wallet, password, token);\n            if (token) {\n                $store.set(\"auth/wallet\", wallet);\n            }\n        }\n        await dispatch(\"fetchRole\");\n        router.push({ name: \"register\" });\n    },\n\n    async disconnect() {\n        $store.set(\"auth/wallet\", null);\n        router.push({ name: \"authentication\" });\n    },\n\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","import Web3 from \"web3\";\nimport { make } from \"vuex-pathify\";\n// import { Web3FunctionProvider } from \"@saturn-chain/web3-functions\";\nimport { getWalletBalance } from \"@/lib/api\";\nimport $store from \"@/store/index\";\n\nconst state = () => ({\n    currentBlockNumber: 0,\n    chainUpdateSubscription: null,\n    currentWalletBalanceWei: 0,\n})\n\n// const average = (arr) => arr.reduce((a, b) => a + b, 0) / arr.length;\n\nconst getters = {\n\n}\n\nconst mutations = make.mutations(state);\n\n\nconst actions = {\n    async fetchAllValues() {\n    },\n\n    subscribeToChainUpdates({ state, rootState, dispatch }) {\n        if (state.chainUpdateSubscription) state.chainUpdateSubscription.unsubscribe();\n\n        const web3 = new Web3(rootState.auth.provider);\n        const subscription = web3.eth.subscribe(\"newBlockHeaders\");\n        subscription.on(\"data\", async (block) => {\n            try {\n                await dispatch(\"insertNewBlock\", block);\n            } catch (error) {\n                // some error on the subscription processing\n                // if the error is due to the loss of connection it needs a reset of the connection\n                console.warn(\"Error on receiving a new block\", error);\n                dispatch(\"subscribeToChainUpdates\");\n            }\n        });\n        $store.set(\"nodes/chainUpdateSubscription\", subscription);\n    },\n\n    unsubscribeToChainUpdates() {\n        if (state.chainUpdateSubscription) state.chainUpdateSubscription.unsubscribe();\n    },\n\n\n\n    async insertNewBlock({ rootState, commit }, block) {\n        // const web3 = new Web3($store.get(\"auth/provider\"));\n        commit(\"currentBlockNumber\", block.number);\n        if (rootState.auth.wallet) {\n            const bal = await getWalletBalance(rootState.auth.wallet);\n            commit(\"currentWalletBalanceWei\", bal);\n        }\n    },\n}\n\nexport default {\n    state,\n    getters,\n    mutations,\n    actions,\n    namespaced: true\n}","const keccak256 = require('ethers').utils.keccak256;\n\nexport const ZeroAddress = \"0x0000000000000000000000000000000000000000\";\n\nexport const BondStatus = {\n    DRAFT: '0',\n    READY: '1',\n    ISSUED: '2',\n    REPAID: '3',\n    FROZEN: '4'\n}\n\n\nexport const Roles = {\n    ADMIN: \"admin\",\n    CAK: \"cak\",\n    BND: \"bnd\",\n    PAY: \"pay\",\n    CUSTODIAN: \"custodian\"\n}\n\nconst Encoder = new TextEncoder();\nexport const RolesHashes = {\n    ADMIN: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n    CAK: keccak256(Encoder.encode(\"CAK_ROLE\")),\n    BND: keccak256(Encoder.encode(\"BND_ROLE\")),\n    PAY: keccak256(Encoder.encode(\"PAY_ROLE\")),\n    CUSTODIAN: keccak256(Encoder.encode(\"CST_ROLE\"))\n}\n\nexport function HashToRole(hash) {\n  if (!hash) return undefined;\n  for(const r of Object.keys(Roles)) {\n      if(hash == RolesHashes[r]) return Roles[r];\n  }\n  return undefined;\n}","\n\n\n// all function work with the currently connected wallet on the currently connected network\nimport $store from \"../store\";\nimport { getLogs, getLogsOfRegister, readOnlyCall, writeCall } from \"./api\";\nimport { RolesHashes } from \"./const\";\n\nexport async function loadRegisterFromEvents(fromBlock, toBlock) {\n  const logs = await getLogs(undefined, \"RegisterStatusChanged\", {}, {fromBlock, toBlock});\n  const registers = [];\n\n  for(const l of logs) {\n    const exists = registers.findIndex(r=>r.address == l.address) >= 0;\n    if (!exists) {\n      registers.push({address:l.address, name:l.returnValues.name, isin: l.returnValues.isin, block:l.blockNumber})\n    }\n  }\n  return registers;\n}\n\nexport async function getCurrentAdmin() {\n  const ADMIN = RolesHashes.ADMIN;\n  const register = $store.state.register.selectedRegister;\n  if (!register) return [];\n  const allowed = await getLogsOfRegister(\"RoleGranted\", {role:ADMIN}, {fromBlock: register.block});\n  const revoked = await getLogsOfRegister(\"RoleRevoked\", {role:ADMIN}, {fromBlock: register.block});\n  const all = [...allowed,...revoked].sort( (a,b)=>a.blockNumber-b.blockNumber);\n\n  const wallets = [];\n  for (const l of all) {\n    const w = l.returnValues.account;\n    const foundAt = wallets.findIndex(x=>x==w);\n    if (l.event == \"RoleGranted\" && foundAt==-1) wallets.push(w);\n    if (l.event == \"RoleRevoked\" && foundAt>=0) wallets.splice(foundAt, 1);\n  }\n  console.log(\"admin list:\", all, wallets);\n  return wallets[0]\n}\n\nexport async function getRegisterStatus() {\n  return await readOnlyCall(\"status\");\n}\n\nexport async function listCAKWallets() {\n  const CAK = RolesHashes.CAK;\n  const register = $store.state.register.selectedRegister;\n  if (!register) return [];\n  const allowed = await getLogsOfRegister(\"RoleGranted\", {role:CAK}, {fromBlock: register.block});\n  const revoked = await getLogsOfRegister(\"RoleRevoked\", {role:CAK}, {fromBlock: register.block});\n  const all = [...allowed,...revoked].sort( (a,b)=>a.blockNumber-b.blockNumber);\n\n  const wallets = [];\n  for (const l of all) {\n    const w = l.returnValues.account;\n    const foundAt = wallets.findIndex(x=>x==w);\n    if (l.event == \"RoleGranted\" && foundAt==-1) wallets.push(w);\n    if (l.event == \"RoleRevoked\" && foundAt>=0) wallets.splice(foundAt, 1);\n  }\n  console.log(\"listCAKWallets:\", all, wallets);\n  return wallets\n}\n\nexport async function allowCAKWallet(wallet) {\n  console.log(\"allow\", wallet);\n  await writeCall(\"grantCakRole\", wallet)\n}\n\nexport async function revokeCAKWallet(wallet) {\n  console.log(\"revoke\", wallet);\n  await writeCall(\"revokeCakRole\", wallet)\n}\n\nexport async function toggleFreezeStatus() {\n  await writeCall(\"toggleFrozen\")\n}","import { make } from \"vuex-pathify\";\n// import $store from \"@/store/index\";\nimport { loadRegisterFromEvents } from \"../lib/register-api\";\n\nconst state = () => ({\n    registers: [],\n    selectedRegister: undefined,\n})\nconst getters = {\n\n}\nconst mutations = make.mutations(state);\n\nconst actions = {\n  async loadAll({commit}) {\n    const list = await loadRegisterFromEvents(0);\n    console.log(\"Found registers\", list)\n    commit(\"registers\", list)\n  }\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions,\n  namespaced: true\n}","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nimport pathify from '@/plugins/pathify'\nimport {cleanUpConfig} from \"@/lib/config-file\"\nimport { make } from \"vuex-pathify\";\n// import createPersistedState from \"vuex-persistedstate\";\n\nimport auth from \"./auth\"\nimport nodes from \"./nodes\"\nimport register from \"./register\"\n\nVue.use(Vuex);\n\nconst state = {\n    // used for a nicer UX: if this is true, ignore the values above, we probably don't know the actual values yet\n    tryingToConnect: false,\n    mmIsOpen: false,\n\n    displaySnackbar: false,\n    snackbarMessage: \"\",\n    snackbarColor: \"error\",\n    config: undefined\n}\n\nconst store = new Vuex.Store({\n    modules: {\n        auth,\n        nodes,\n        register\n    },\n    plugins: [\n        pathify.plugin,\n        // createPersistedState({ key: \"wallets\", paths: [\"wallets\"] })\n    ],\n    state,\n    mutations: make.mutations(state),\n    actions: {\n        errorFlash({ commit }, message) {\n            commit(\"snackbarMessage\", message);\n            commit(\"snackbarColor\", \"error\");\n            commit(\"displaySnackbar\", true);\n        },\n        async fetchConfig({ commit }) {\n            try {\n                let configUrl = \"./config.json\";\n                const url = new URL(window.location.href);\n                if (url.searchParams.has(\"config\")) {\n                    const uConf = new URL(url.searchParams.get(\"config\"));\n                    configUrl = uConf.href;\n                    url.searchParams.delete(\"config\")\n                    // window.history.replaceState(null, null, url);\n                }\n                const res = await fetch(configUrl)\n                if( res.status === 200 ) {\n                    const config = await res.json();\n                    commit(\"config\", await cleanUpConfig(config))\n                }\n            } catch (error) {\n                commit(\"config\", undefined)\n            }\n        },\n\n        async connected({dispatch}) {\n            dispatch(\"register/loadAll\")\n        }\n    }\n});\nexport default store;","\nexport class AsyncLocalStorage {\n  constructor(keys) {\n    this.keyList = keys || [];\n  }\n  async getItem(key) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    const v = window.localStorage.getItem(key);\n    if (!v) return undefined;\n    return JSON.parse(v);\n  }\n  async setItem(key, value) {\n    if (!key) return;\n    if (!this.keyList.includes(key)) this.keyList.push(key);\n    if (!value) window.localStorage.removeItem(key)\n    else window.localStorage.setItem(key, JSON.stringify(value));\n    return;\n  }\n  async getAll() {\n    const result = {};\n    for (const key of this.keyList) {\n      result[key] = await this.getItem(key);\n    }\n    return result\n  }\n  async setAll(group) {\n    for (const key of Object.keys(group)) {\n      await this.setItem(key, group[key]);\n    }\n  }\n}\n","import Web3 from \"web3\";\nimport { Web3FunctionProvider } from \"@saturn-chain/web3-functions\";\nimport { Web3CustodyFunctionProvider } from \"@saturn-chain/web3-custody-functions\";\nimport { WalletCustodyApiImpl } from \"@saturn-chain/wallet-custody-rest-api\";\nimport allContracts from \"delivery-versus-payment\";\n// eslint-disable-next-line no-unused-vars\nimport {SmartContract, SmartContractInstance} from \"@saturn-chain/smart-contract\";\nimport $store from \"@/store/index\";\nimport { AsyncLocalStorage } from \"./async-local-storage\";\n\nconst LocalStorage = new AsyncLocalStorage();\n\n\nexport function getWeb3ProviderFromUrl(url) {\n    const web3 = new Web3(url)\n    return web3.currentProvider;\n}\n\nexport async function getWalletBalance(walletAddress) {\n    return await new Web3($store.get(\"auth/provider\")).eth.getBalance(walletAddress);\n    // const wallet = new Web3Wallet(Web3, walletAddress);\n    // return await wallet.getBalance();\n}\n\n/**\n * \n * @param {string} contractName \n * @returns SmartContract\n */\nexport function getContractByName(contractName) {\n    const contract = allContracts.get(contractName);\n    return contract;\n}\n\n/**\n * \n * @param {string} contractName \n * @param {string} address \n * @returns SmartContractInstance\n */\nexport function getContractInstance(contractName, address) {\n    const contract = getContractByName(contractName)\n    const instance = contract.at(address);\n    console.log(\"Instance\", instance);\n    return instance;\n}\n\n/**\n * \n * @param {string} address \n * @returns SmartContractInstance\n */\nexport function getRegisterInstance(address) {\n    return getContractInstance(\"Register\", address);\n}\n\n/**\n * @param {SmartContractInstance|undefined} instance \n * @param {string}\n * @returns \n */\nexport function getRegisterEvent(instance, eventName) {\n    if (instance) return instance.events[eventName];\n    else return getContractByName(\"Register\").events[eventName];\n}\n\nexport function getCustodyApi() {\n    const custodyUrl = $store.get(\"auth/providerDirect\").custodyApiUrl;\n    const custody = new WalletCustodyApiImpl(custodyUrl, \"eth\");\n    return custody;    \n}\n\nexport async function verifyCustodyAuthentication(wallet, password) {\n    const savedWallets = (await LocalStorage.getItem(\"custody.wallets\")) || [];\n    savedWallets.unshift(wallet);\n    LocalStorage.setItem(\"custody.wallets\", savedWallets)\n    const api = getCustodyApi();\n    const token = await handleMMResponse(api.authenticate(wallet, password));\n    return token\n}\n\nexport async function getCustodyLastWallets() {\n    return (await LocalStorage.getItem(\"custody.wallets\")) || [];\n}\n\nexport function intf(provider) {\n    // TODO (suggestion): This approach work, but why not storing in the \"store\" the intf result instead of the web3 provider ?\n    //      you would save writing the intf(provider)\n    if (!provider) provider = $store.get(\"auth/provider\");\n    if (!provider) throw new Error(\"Should not be calling the api functions without a provider connected\")\n    const model = $store.get(\"auth/providerModel\");\n    if (model == \"metamask\") {\n        return new Web3FunctionProvider(provider, (list) => Promise.resolve(list[0]))\n    }\n    if (model == \"direct\") {\n        const wallet = $store.get(\"auth/wallet\");\n        if (wallet) {\n            const custody = getCustodyApi();\n            const authFunction = $store.state.auth.walletAuthenticationFunction;\n            const i = new Web3CustodyFunctionProvider(provider, custody, wallet, authFunction );\n            \n            return i;\n        } else {\n            // returns a fake identity using any address. Only read function will be available\n            return new Web3FunctionProvider(provider, ()=>Promise.resolve())\n        }\n    }\n    throw new Error(\"should not be calling the api functions without deciding the provider (metamask or direct)\")\n}\n\nexport async function readOnlyCall(methodName, ...args) {\n    return readOnlyCallWithOptions(methodName, { maxGas: 10000000 }, ...args)\n}\n\nexport async function readOnlyCallWithOptions(methodName, options, ...args) {\n    const provider = $store.get(\"auth/provider\");\n    const contract = $store.get(\"auth/contract\");\n    if (!(methodName in contract)) return Promise.reject(new Error(`Method ${methodName} does not exists in contract`));\n    return contract[methodName](\n        intf(provider).call(options),\n        ...args\n    );\n}\n\nexport function writeCall(methodName, ...args) {// return writeCallWithOptions(methodName, {maxGas: 1000000}, ...args);\n    return writeCallWithOptions(methodName, {}, ...args);\n}\n\nfunction convertMMErrorMessage(message) {\n    if(typeof message !== \"string\") message = `\\n {\"message\":\"invalid error message\"}`;\n    let split = message.split(\"\\n\");\n    if(split.length==1) split =  `\\n ${JSON.stringify({message})}`.split('\\n');\n    try {\n        const obj = JSON.parse(split.splice(1).join(\" \"))\n        return obj;\n    } catch (error) {\n        return {\n            message,\n            comment: \"invalid JSON message\"\n        }\n    }\n}\n\nexport function writeCallWithOptions(methodName, options, ...args) {\n    const wallet = $store.get(\"auth/wallet\");\n    if (!wallet) {\n        return Promise.reject(new Error(\"You are not authenticated with a wallet, you cannot update the blockchain\"));\n    }\n    const provider = $store.get(\"auth/provider\");\n    const contract = $store.get(\"auth/contract\");\n    if (!(methodName in contract)) return Promise.reject(new Error(`Method ${methodName} does not exists in contract`));\n\n    return new Promise( (resolve, reject)=>{\n        // First test the execution with the node using the call approach\n        readOnlyCallWithOptions(methodName, options, ...args)\n        .then(async v=>{\n            console.log(\"Tested call\", options, v)\n            resolve(\n                // as it succeeded, try executing it as a transaction\n                await contract[methodName](\n                    intf(provider).send(options),\n                    ...args\n                )\n            )\n        })\n        .catch(e => {\n            const err = convertMMErrorMessage(e.message)\n            reject(err)\n        })\n    });\n}\n\n/**\n * \n * @param {string} register \n * @param {string} eventName \n * @param {any} filter \n * @param {{fromBlock: string, toBlock: string}} options \n * @returns Promise<Event[]>\n */\nexport function getLogs(register, eventName, filter, {fromBlock, toBlock}) {\n    const provider = $store.get(\"auth/provider\");\n    \n    const event = getRegisterEvent(register, eventName)\n    if (!event) return Promise.resolve([]);\n    const w = intf(provider);\n\n    return new Promise( (resolve, reject)=> {\n        const logs = [];\n        event(w.get({fromBlock, toBlock}), filter||{})\n        .on(\"log\", async log=>{\n            logs.push(log);\n        }).on(\"completed\", ()=>resolve(logs))\n        .on(\"error\", reject)\n    })\n}\n\nexport function getLogsOfRegister(eventName, filter, {fromBlock, toBlock}) {\n    const contract = $store.get(\"auth/contract\");\n    return getLogs(contract, eventName, filter, {fromBlock, toBlock});\n}\n\n// async function collectDataFunction(target, data) {\n//     const cmd = `eth.sendTransaction({from: eth.coinbase, to:\"${target}\", data:\"${data}\"})`\n//     return {isTx: true, result: cmd}\n// }\n// export async function getCallData(methodName, ...args) {\n//     const contract = $store.get(\"auth/contract\");\n//     const cmd = await contract[methodName]( collectDataFunction, ...args)\n//     console.log(cmd)\n//     return cmd;\n// }\n\nexport async function handleMMResponse(promise, errorCallback) {\n    let response = null;\n    try {\n        $store.set(\"mmIsOpen\", true);\n        response = await promise;\n    }\n    catch (err) {\n        let message = err.message;\n        // In some cases of lack of gas in the transaction, the err contains a tx info\n        if (err.blockHash && err.gasUsed && err.status==false) {\n            message = `Not enough gas to complete the transaction: ${err.gasUsed} provided`\n        }\n        console.warn(\"Submitted transaction failed with error:\", message);\n        $store.dispatch(\"errorFlash\", message);\n        errorCallback && errorCallback(err);\n    }\n    finally {\n        $store.set(\"mmIsOpen\", false);\n    }\n    return response;\n}\n\n// Not used currently but lets you run any arbitrary code and the mmIsOpen flag is handled automatically\n// aswell as the error flash production if you decide to trigger an exception.\nexport async function handleMM(func) {\n    try {\n        $store.set(\"mmIsOpen\", true);\n        await func();\n    }\n    catch (err) {\n        console.log(err);\n        $store.dispatch(\"errorFlash\", err.message);\n    }\n    finally {\n        $store.set(\"mmIsOpen\", false);\n    }\n}","<template>\n  <div>\n    <v-btn color=\"primary\" dark @click=\"openMetaMaskConnectionDialog\"\n      v-if=\"hasProviderMetamask\"\n      >Connect Metamask Wallet</v-btn\n    >\n    <br><br>\n    <div v-if=\"hasProviderDirect\">\n      <v-btn color=\"primary\" dark @click=\"prepareOpenWeb3DirectConnectionDialog\"\n        >Connect with below configuration</v-btn\n      > <br><br>\n      <v-select\n          v-model=\"selectedNetwork\"\n          :hint=\"`node: ${selectedNetwork.nodeUrl}; custody: ${selectedNetwork.walletCustodyAPIBaseUrl}`\"\n          :items=\"networks\"\n          item-text=\"name\"\n          item-value=\"nodeUrl\"\n          persistent-hint\n          return-object\n          single-line\n        ></v-select>\n      <div v-if=\"hasCustodyApi\">\n        <br>\n        <v-combobox\n              label=\"Enter the wallet address\"\n              placeholder=\"capture your wallet address\"\n              outlined counter clearable\n              :search-input=\"wallet\"\n              @update:search-input=\"updateWallet\"\n              :items=\"wallets\"\n            ></v-combobox>\n        <v-text-field\n              label=\"Enter the wallet password\"\n              placeholder=\"capture your wallet password\"\n              outlined \n              :type=\"show?'text' : 'password'\"\n              @click:append=\"show = !show\"\n              v-model=\"password\"\n            ></v-text-field>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { call } from \"vuex-pathify\";\nimport { getCustodyLastWallets } from \"../lib/api\";\nimport { getDefaultNetwork, getNetworkList } from \"../lib/config-file\";\n\nexport default {\n  data() {\n    return {\n      wallet: undefined,\n      wallets: [],\n      networks: [],\n      selectedNetwork: {name: \"undefined\"},\n      password: \"xxxxxxxx\",//undefined,\n      show: false,\n    }\n  },\n  async mounted() {\n    const wallets = await getCustodyLastWallets();\n    if (wallets.length>0) this.wallet = wallets[0];\n    this.wallets = wallets;\n\n    const config = this.$store.get(\"config\");\n    this.networks = getNetworkList(config);\n    this.selectedNetwork = getDefaultNetwork(config);\n  },\n  computed: {\n    hasProviderMetamask() {\n      if (this.$store.state.auth.providerMetamask) return true;\n      else return false;\n    },\n    hasProviderDirect() {\n      if (this.$store.state.auth.providerDirect) return true;\n      else return false;\n    },\n    hasCustodyApi() {\n      if (this.$store.state.auth.providerDirect && this.$store.state.auth.providerDirect.custodyModel == \"api\" ) return true;\n      else return false;\n    },\n  },\n  methods: {\n    ...call(\"auth\", [\"openMetaMaskConnectionDialog\", \"openWeb3DirectConnectionDialog\"]),\n    updateWallet(v) {\n      this.wallet = v;\n    },\n    async prepareOpenWeb3DirectConnectionDialog() {\n      await this.openWeb3DirectConnectionDialog({wallet: this.wallet, password: this.password, nodeUrl: this.selectedNetwork.nodeUrl});\n      this.wallets = await getCustodyLastWallets();\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Auth.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Auth.page.vue?vue&type=template&id=22334ca2&\"\nimport script from \"./Auth.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Auth.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"row\",attrs:{\"cols\":\"12\"}},[_c('v-autocomplete',{attrs:{\"label\":\"Find and select the bond register to work on\",\"items\":_vm.formatedRegisters,\"value-comparator\":function (a,b){ return (a && b)?a.address==b.address:false; },\"clearable\":\"\"},model:{value:(_vm.selectedRegister),callback:function ($$v) {_vm.selectedRegister=$$v},expression:\"selectedRegister\"}}),(_vm.selectedRegister)?_c('explorer',{attrs:{\"type\":\"account\",\"id\":_vm.selectedRegister.address}}):_vm._e()],1),(_vm.selectedRegister)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[(_vm.userIsRegisterAdmin)?_c('v-card-title',{staticClass:\"primary--text\"},[_vm._v(\"You have the admin wallet of this register\")]):_c('v-card-title',{staticClass:\"red--text\"},[_vm._v(\"Connect with the admin wallet of this register to proceed\")]),(!_vm.userIsRegisterAdmin)?_c('v-card-text',[_vm._v(_vm._s(_vm.currentAdminWallet))]):_vm._e()],1)],1):_vm._e(),(_vm.selectedRegister)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Register status: \"+_vm._s(_vm.selectedRegister.statusText)+\" \"),_c('v-spacer'),_c('v-switch',{staticClass:\"mr-6\",attrs:{\"inset\":\"\",\"label\":_vm.selectedRegister.status == '4' ? 'Frozen' : 'Freeze',\"true-value\":\"4\",\"false-value\":\"2\"},on:{\"click\":_vm.toggleFreeze},model:{value:(_vm.selectedRegister.status),callback:function ($$v) {_vm.$set(_vm.selectedRegister, \"status\", $$v)},expression:\"selectedRegister.status\"}})],1)],1)],1):_vm._e(),(_vm.selectedRegister)?_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"List of Central Account Keeper wallets\")]),_c('v-card-text',[_c('v-data-table',{attrs:{\"items\":_vm.cakWallets,\"headers\":_vm.cakHeaders},scopedSlots:_vm._u([{key:\"item.remove\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeWallet(item.wallet)}}},[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-delete-forever\")])],1)]}},{key:\"foot\",fn:function(){return [_c('tfoot',[_c('v-divider'),_c('v-row',{staticClass:\"px-4 align-center\"},[_c('v-col',{attrs:{\"cols\":\"10\"}},[_c('v-text-field',{attrs:{\"label\":\"Insert the wallet of a new CAK\",\"rules\":[_vm.ETH_ADDRESS]},model:{value:(_vm.newCakWallet),callback:function ($$v) {_vm.newCakWallet=$$v},expression:\"newCakWallet\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.addWallet}},[_vm._v(\"Grant CAK role\")])],1)],1)],1)]},proxy:true}],null,true)})],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-icon',{attrs:{\"small\":\"\",\"color\":\"blue\"},on:{\"click\":function($event){return _vm.open(_vm.url)}}},[_vm._v(\"mdi-open-in-new\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-icon small color=\"blue\" @click=\"open(url)\">mdi-open-in-new</v-icon>\n</template>\n\n<script>\nimport $store from \"@/store\";\n\nexport default {\n  props: {\n    id: [String, Number],\n    type: { \n      type: String,\n      validator(value) {\n        // The value must match one of these strings\n        return ['block', 'tx', 'token', 'account'].includes(value)\n      }\n    },\n  },\n\n  computed: {\n    url() {\n      const explorerUrl = $store.get(\"auth/explorerUrl\");\n      if (!explorerUrl) return undefined;\n      const u = new URL(`${explorerUrl}/${this.type}/${this.id}`)\n      return u.href;\n    }\n  },\n\n  methods: {\n    open(url) {\n      window.open(url, 'POCR-EXPLORER')\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerRedirect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerRedirect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorerRedirect.vue?vue&type=template&id=ea185db6&\"\nimport script from \"./ExplorerRedirect.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorerRedirect.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nexport const ETH_ADDRESS = v => /^0x[a-fA-F0-9]{40}$/g.test(v) || 'please make sure to enter the correct address'\n\nexport const REQUIRED = v => !!v || 'this field is required';\n\nexport const DATE = v=> !Number.isNaN(Date.parse(v)) || 'please provide a valid date format YYYY-MM-DD';","<template>\n  <v-layout row wrap>\n    <v-row>\n      <v-col class=\"row\" cols=\"12\">\n        <v-autocomplete \n          label=\"Find and select the bond register to work on\"\n          v-model=\"selectedRegister\"\n          :items=\"formatedRegisters\"\n          :value-comparator=\"(a,b)=>(a && b)?a.address==b.address:false\"\n          clearable>\n        </v-autocomplete>\n        <explorer v-if=\"selectedRegister\" type=\"account\" :id=\"selectedRegister.address\"/>\n      </v-col>\n      <v-col cols=\"12\" v-if=\"selectedRegister\">\n        <v-card>\n          <v-card-title v-if=\"userIsRegisterAdmin\" class=\"primary--text\">You have the admin wallet of this register</v-card-title>\n          <v-card-title v-else class=\"red--text\">Connect with the admin wallet of this register to proceed</v-card-title>\n          <v-card-text v-if=\"!userIsRegisterAdmin\">{{currentAdminWallet}}</v-card-text>\n        </v-card>\n      </v-col>\n      <v-col cols=\"12\" v-if=\"selectedRegister\">\n        <v-card>\n          <v-card-title >Register status: {{selectedRegister.statusText}}\n            <v-spacer/>\n            <v-switch \n                @click=\"toggleFreeze\"\n                inset :label=\"selectedRegister.status == '4' ? 'Frozen' : 'Freeze'\"\n                true-value=\"4\"\n                false-value=\"2\"\n                v-model=\"selectedRegister.status\"\n                class=\"mr-6\"\n            ></v-switch>\n          </v-card-title>\n        </v-card>\n      </v-col>\n      <v-col cols=\"12\" v-if=\"selectedRegister\">\n        <v-card>\n          <v-card-title>List of Central Account Keeper wallets</v-card-title>\n          <v-card-text>\n            <v-data-table :items=\"cakWallets\" :headers=\"cakHeaders\">\n              <template v-slot:[`item.remove`]=\"{item}\">\n                <v-btn icon @click=\"removeWallet(item.wallet)\"><v-icon color=\"red\">mdi-delete-forever</v-icon></v-btn>\n              </template>\n              <template v-slot:foot>\n                <tfoot>\n                  <v-divider></v-divider>\n                  <v-row class=\"px-4 align-center\">\n                    <v-col cols=\"10\">\n                      <v-text-field \n                        v-model=\"newCakWallet\"\n                        label=\"Insert the wallet of a new CAK\"\n                        :rules=\"[ETH_ADDRESS]\"\n                      ></v-text-field>\n                    </v-col>\n                    <v-col cols=\"2\">\n                      <v-btn color=\"primary\" small\n                        @click=\"addWallet\"\n                      >Grant CAK role</v-btn>\n                    </v-col>\n                  </v-row>\n                </tfoot>\n\n              </template>\n            </v-data-table>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-layout>\n</template>\n\n<script>\nimport { call, get, sync } from \"vuex-pathify\";\nimport { handleMM } from '../lib/api';\nimport Explorer from \"../components/ExplorerRedirect.vue\";\nimport { getRegisterInstance } from '../lib/api';\nimport { allowCAKWallet, getCurrentAdmin, getRegisterStatus, listCAKWallets, revokeCAKWallet, toggleFreezeStatus } from '../lib/register-api';\nimport {ETH_ADDRESS} from '../lib/rules';\nimport { BondStatus } from '../lib/const';\n\nexport default {\n  components: {Explorer},\n  data: () => {\n    return {\n      ETH_ADDRESS,\n      cakWallets: [],\n      cakHeaders: [\n        { text: \"Wallet\", value: \"wallet\" },\n        { text: \"Remove\", value: \"remove\" },\n      ],\n      newCakWallet: null,\n      currentAdminWallet: null,\n    };\n  },\n  async mounted() {\n    // await this.fetchChainInformations()\n    await this.fetchAllValues();\n    await this.subscribeToChainUpdates();\n  },\n  computed: {\n    ...get(\"register\", [\"registers\"]),\n    ...sync(\"register\", [\"selectedRegister\"]),\n    ...sync(\"auth\", [\"contract\", \"wallet\"]),\n    formatedRegisters() {\n      return this.registers\n      // .sort((a, b)=>a.block-b.block)\n      .map(r=>({\n        text: `${r.name} - ${r.isin} - ${r.address}`,\n        value: r,\n\n      }))\n    },\n    userIsRegisterAdmin() {\n      if (!this.currentAdminWallet) return false;\n      if (!this.wallet) return false;\n      return this.wallet.toLowerCase() == this.currentAdminWallet.toLowerCase()\n    }\n  },\n  watch: {\n\n    async selectedRegister(_new, _old) {\n      console.log(\"Selected register changed\", _new, _old);\n      if (_new) {\n        if (_old && _new.address==_old.address) return;\n        this.contract = getRegisterInstance(_new.address)\n        this.currentAdminWallet = await getCurrentAdmin()\n        await this.updateRegisterStatus();\n        await this.updateCAKWallet();\n      } else {\n        this.contract = null;\n      }\n    }\n  },\n  methods: {\n    ...call(\"nodes\", [\n      \"fetchAllValues\",\n      \"subscribeToChainUpdates\",\n    ]),\n    async updateCAKWallet() {\n      this.cakWallets = (await listCAKWallets()).map(w=>({wallet:w}));\n    },\n    async updateRegisterStatus() {\n      const status = await getRegisterStatus();\n      const s = Object.entries(BondStatus).find(([, val])=>val==status)\n      const statusText = s? s[0] : \"Undefined\";\n      console.log(\"updateRegisterStatus\", status, BondStatus, status, statusText);\n      if (this.selectedRegister) {\n        this.selectedRegister = {...this.selectedRegister, status, statusText};\n      }\n    },\n    async removeWallet(wallet) {\n      await handleMM(()=>revokeCAKWallet(wallet))\n      await this.updateCAKWallet();\n    },\n    async addWallet() {\n      if (ETH_ADDRESS(this.newCakWallet) !== true) return;\n      await handleMM(()=>allowCAKWallet(this.newCakWallet))\n      this.newCakWallet = null;\n      await this.updateCAKWallet();\n    },\n    async toggleFreeze() {\n      await handleMM(toggleFreezeStatus);\n      await this.updateRegisterStatus();\n\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.page.vue?vue&type=template&id=3da4e7bc&\"\nimport script from \"./Dashboard.page.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\n\nimport InstallMetaMask from \"@/pages/InstallMetaMask.page.vue\";\nimport Auth from \"@/pages/Auth.page.vue\";\n\nimport Dashboard from \"@/pages/Dashboard.page.vue\";\n\nVue.use(VueRouter);\n\n\nconst walletIsntConnected = ({ store }) => !store.state.auth.wallet;\n// const hasRole = (role)=>{\n//     return ({store}) => (store.get(\"auth/walletRole\") == role)\n// } \n// const not = (f)=>{\n//     return (opts)=>{\n//         return !f(opts);\n//     }\n// }\n\n// const any = (...functions) => {\n//     return (opts) => {\n//         for (const f of functions) {\n//             if (f(opts)) return true;\n//         }\n//         return false;\n//     }\n// }\n\n// The order actually matter because it will determine the order in the sidenav\nexport const routes = [\n    //Public\n    { name: \"register\", path: \"/register\", component: Dashboard, meta: { displayInSidenav: \"\" } },\n       // Auth\n    { name: \"installMetaMask\", path: \"/installmetamask\", component: InstallMetaMask },\n    {\n        name: \"authentication\", path: \"/auth\", component: Auth, meta: {\n            displayInSidenav: \"\",\n            hidden: ({ store }) => !walletIsntConnected({ store })\n        }\n    },\n\n    \n    // GdC: For some unknown reason the redirection should not be 'authentication' directly but it works with dashboard\n    { path: \"*\", redirect: \"register\" }\n]\n\nconst router = new VueRouter({\n    routes,\n    base: \"\",\n    // mode: \"history\"\n})\n\nexport default router;","<template>\n  <v-navigation-drawer v-model=\"drawer\" app clipped flat>\n    <v-divider></v-divider>\n    <v-list>\n      <v-list-item-group :value=\"$route.name\" mandatory color=\"primary\">\n        <template\n          v-for=\"(\n            { icon, label, route, disabled, subheader }, index\n          ) in sidenav\"\n        >\n          <v-divider\n            v-if=\"subheader && label !== '' && index !== 0\"\n            :key=\"`${label}-divider`\"\n          ></v-divider>\n          <v-subheader :key=\"label\" v-if=\"subheader && label !== ''\">{{\n            label\n          }}</v-subheader>\n          <v-list-item\n            v-else\n            :key=\"route\"\n            :value=\"route\"\n            @click=\"goTo(route)\"\n            :disabled=\"disabled()\"\n            link\n          >\n            <v-list-item-icon>\n              <v-icon>{{ icon }}</v-icon>\n            </v-list-item-icon>\n\n            <v-list-item-content>\n              <v-list-item-title>{{ label }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </template>\n      </v-list-item-group>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport { get } from \"vuex-pathify\";\nimport { routes } from \"@/router\";\n\nexport default {\n  data: () => ({\n    drawer: null,\n  }),\n\n  computed: {\n    ...get([\"mmIsOpen\"]),\n    ...get(\"auth\", [\"registered\"]),\n    ...get(\"status\", [\"approved\"]),\n    sidenav() {\n      // Filter the routes to keep the ones that could appear in the sidenav,\n      // and map them to a more usable object\n      const list = routes\n        .filter((r) => r?.meta?.displayInSidenav !== undefined)\n        .map((r) => ({\n          icon: \"mdi-wallet\",\n          label: r.name.charAt(0).toUpperCase() + r.name.slice(1),\n          route: r.name,\n          meta: r.meta,\n          restricted: r.meta.restricted,\n          disabled: () =>\n            this.mmIsOpen ||\n            (r.meta.restricted && !r.meta.restricted({ store: this.$store })),\n          hidden: r.meta.hidden,\n        }));\n\n      const nav = [];\n      const categories = [];\n      for (const el of list) {\n        if (el.hidden && el.hidden({ store: this.$store })) continue;\n        if (\n          el.meta &&\n          el.meta.displayInSidenav !== \"\" &&\n          !categories.includes(el.meta.displayInSidenav)\n        ) {\n          nav.push({ subheader: true, label: el.meta.displayInSidenav });\n          categories.push(el.meta.displayInSidenav);\n        }\n        nav.push(el);\n      }\n      return nav;\n    },\n  },\n\n  mounted() {\n    console.log(\"routes\", routes);\n  },\n\n  methods: {\n    goTo(routeName) {\n      if (this.$route.name === routeName) return;\n      this.$router.push({ name: routeName });\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppMenu.vue?vue&type=template&id=e71ec46c&\"\nimport script from \"./AppMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./AppMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\",\"persistent\":\"\"},model:{value:(_vm.display),callback:function ($$v) {_vm.display=$$v},expression:\"display\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Transaction authentication\")]),_c('v-card-text',[_vm._v(\" Enter the password for the wallet \"+_vm._s(_vm.walletAddress)+\" : \"),_c('v-text-field',{attrs:{\"type\":\"password\"},model:{value:(_vm.walletPassword),callback:function ($$v) {_vm.walletPassword=$$v},expression:\"walletPassword\"}}),_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.errorMessage))])],1),_c('v-card-actions',[_c('v-btn',{on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"loading\":_vm.loading,\"disabled\":_vm.walletPassword === '' || _vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\" Confirm \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    v-model=\"display\"\n    width=\"500\"\n    persistent\n  >\n    <v-card>\n      <v-card-title>Transaction authentication</v-card-title>\n      <v-card-text>\n        Enter the password for the wallet {{ walletAddress }} :\n        <v-text-field type=\"password\" v-model=\"walletPassword\" />\n        <div style=\"color: red\">{{ errorMessage }}</div>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn @click=\"cancel\">Cancel</v-btn>\n        <v-btn\n          @click=\"submit\"\n          :loading=\"loading\"\n          :disabled=\"walletPassword === '' || loading\"\n        >\n          Confirm\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nexport default {\n\n  data: () => ({\n    walletAddress: null,\n    errorMessage: null,\n    display: false,\n    loading: false,\n    walletPassword: \"\",\n    // functions as a data fields to be called by the component\n    submit: ()=>{}, \n    cancel: ()=>{}\n  }),\n\n  methods: {\n    /** This method is to be registered in the central store to be passed into the \n     * new Web3CustodyFunctionProvider(provider, custody, wallet, <here>)\n     * to allow user to interact with the authentication process\n     */\n    async authenticate(address, api) {\n      if (!address || !api) throw new Error(\"Invalid call to the authenticate function, missing parameters\");\n      this.walletAddress = address;\n      this.display = true;\n\n      try {\n        // console.log(\"authenticate function with api\",address, api);\n        // create a promise to wait for the user interactions\n        // the body of the promise links two functions (submit and cancel) to the component to receive \n        // the click events\n        const token = await new Promise( (resolve, reject)=>{\n          // function to receive the submit click event\n          async function submit() {\n            if (this.walletAddress && this.walletPassword) {\n              this.loading = true;\n              try {\n                // calls the api to get the token\n                const token = await api.authenticate(this.walletAddress, this.walletPassword);\n                if (!token) throw new Error(\"Missing token from authenticate without real error\") // should not happen\n                // returns the authentication token\n                resolve(token);\n              } catch (error) {\n                this.errorMessage = error.message;\n              } finally {\n                this.loading = false;\n              }\n            } else {\n              reject(new Error(\"No wallet address or password\"))\n            }\n          }\n          // function to receive the cancel click event\n          function cancel() {\n            reject(new Error(\"Authentication cancelled by user\"));\n          }\n          // link the functions to the component (using data instead of methods works fine :-) )\n          this.submit = submit.bind(this);\n          this.cancel = cancel.bind(this);\n        });\n\n        // returns the token obtained from the promise\n        return token;\n      } finally {\n        // in case of exception, we should clear the fields and close the dialog\n        this.walletPassword = \"\";\n        this.errorMessage = null;\n        this.display = false;\n      }\n\n    }\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WalletAuthenticationDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WalletAuthenticationDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WalletAuthenticationDialog.vue?vue&type=template&id=424a8a38&\"\nimport script from \"./WalletAuthenticationDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./WalletAuthenticationDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app id=\"inspire\">\n    <v-container>\n      <app-menu></app-menu>\n      <v-app-bar app clipped-left flat color=\"primary lighten-2\">\n        <v-toolbar-title class=\"white--text\">Administration of bond register</v-toolbar-title>\n        <v-spacer></v-spacer>\n        \n        <v-chip\n          v-if=\"wallet\"\n          class=\"ma-2\"\n          close\n          color=\"blue\"\n          text-color=\"white\"\n          @click:close=\"disconnect\"\n        >\n          {{wallet}}\n        </v-chip>\n\n      </v-app-bar>\n\n      <v-main>\n        <v-container class=\"py-8\">\n          <router-view></router-view>\n        </v-container>\n      </v-main>\n    </v-container>\n    <v-overlay :value=\"mmIsOpen\">\n      <v-progress-circular indeterminate></v-progress-circular>\n    </v-overlay>\n    <v-snackbar\n      v-model=\"displaySnackbar\"\n      multi-line\n      :color=\"snackbarColor\"\n      right\n    >\n      {{ snackbarMessage }}\n    </v-snackbar>\n    <wallet-authentication-dialog\n      ref=\"walletAuthenticationDialog\"\n    ></wallet-authentication-dialog>\n  </v-app>\n</template>\n\n<script>\nimport AppMenu from \"./components/AppMenu.vue\";\nimport WalletAuthenticationDialog from \"./components/WalletAuthenticationDialog.vue\";\nimport { get, sync, call } from \"vuex-pathify\";\nimport $store from \"@/store/index\";\n\nexport default {\n  components: { AppMenu, WalletAuthenticationDialog },\n  data: () => ({}),\n\n  computed: {\n    ...sync([\"displaySnackbar\", \"snackbarMessage\", \"snackbarColor\"]),\n    ...get([\"mmIsOpen\"]),\n    ...get(\"auth\", [\"wallet\"]),\n  },\n\n  methods: {\n    ...call(\"auth\", [\"detectProvider\", \"disconnect\"]),\n  },\n\n  mounted() {\n    // record the authentication function to make it available in api.js\n    $store.set(\"auth/walletAuthenticationFunction\", this.$refs.walletAuthenticationDialog.authenticate) \n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4ac04b54&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\n// import i18n from \"./i18n\";\nimport \"vuetify/dist/vuetify.min.css\";\n\nVue.use(Vuetify);\n\nexport default (theme) => new Vuetify({\n    theme: {\n        themes: {\n            light: theme ?? {\n                primary: \"#607d8b\",\n                secondary: \"#009688\",\n                accent: \"#4caf50\",\n                error: \"# e91e63\",\n                warning: \"#cddc39\",\n                info: \"#3f51b5\",\n                success: \"#8bc34\",\n            },\n        },\n    },\n    // lang: {\n    //     t: (key, ...params) => i18n.t(key, params),\n    // },\n});","\nexport function setupAuthNavigationGuard(router, store) {\n  router.beforeEach(async (to, from, next) => {\n    console.log(\"routing \", from.name, to.name);\n    // first need to control if we have not routed to the metamask missing page\n    if (to.name === \"installMetaMask\") {\n      return next();\n    }\n\n    // Having a provider is considered mandatory. We'll check that you installed Metamask or have a wallet custody configured.\n    if (!store.state.auth.providerModel) {\n      console.log(\"no auth provider yet\");\n      await store.dispatch(\"auth/detectProvider\");\n      console.log(\"Didn't find any provider in the app, trying to detect one. Provider found?\", store.state.auth.providerModel, store.state.auth.provider);\n      if (store.state.auth.providerModel == \"both\") return next({ name: \"authentication\" });\n      if (store.state.auth.providerModel == \"metamask\") {store.dispatch(\"auth/openMetaMaskConnectionDialog\"); }\n      // if no provider was available, assume that no direct provider was possible hence we need at least to have metamask\n      if (!store.state.auth.provider) return next({ name: \"installMetaMask\" });\n    }\n\n    // You're going to a non-auth route, keep going.\n    if (!to.meta || !to.meta.restricted) return next();\n\n    // Good, you have the provider. But have you connected a wallet?\n    if (!store.state.auth.wallet) {\n      console.log(\"Didn't find the wallet in the app. Trying to fetch it...\");\n      const address = await store.dispatch(\"auth/attemptToConnectWallet\");\n    \n      console.log(\"Found a connected wallet.\", address);\n    }\n\n    // await store.dispatch(\"auth/fetchRole\", null, { root: true });\n\n    // Alright, you have the extension, and you've connected a wallet. But do you have the right to\n    // go where you're trying to go?\n    if (!to.meta.restricted({ store })) {\n      // Maybe we don't know it yet but you're actually approved (first navigation). We double-check,\n      // to avoid sending you back to status on first navigation (that would be quite annoying)\n      console.log(\"Didn't find the proper authorizations to go to this route. Checking again with the smart contract...\")\n      await Promise.all([\n        store.dispatch(\"auth/fetchIsRegistered\"),\n        store.dispatch(\"status/fetchIsApproved\"),\n        store.dispatch(\"auth/fetchRole\")\n      ]);\n      // You're actually NOT approved or registered at all. Go back to Status, you shouldn't try to go\n      // anywhere else.\n      if (!to.meta.restricted({ store })) return next({ name: to.meta.forceRedirectTo });\n      console.log(\"Found the proper authorizations.\");\n    }\n\n    // Alright, if you managed to go this far, everything's fine.\n    return next();\n  })\n}","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetifyConstructor from '@/plugins/vuetify'\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\nimport '@mdi/js'\n\nimport store from \"./store/index\"\nimport router from './router'\nimport { setupAuthNavigationGuard } from '@/lib/auth'\n\nVue.config.productionTip = false\n\nsetupAuthNavigationGuard(router, store);\n\nnew Vue({\n  vuetify: vuetifyConstructor({\n    primary: \"#4d0773\"\n  }),\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app');"],"sourceRoot":""}